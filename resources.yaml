---
# Wait up to 1h for a server to finish draining before outright terminating.
patience: 3600
# The latest image we want deployed. If images are running that have an
# appropriate prefix but are not running this image, they will be removed.
image: vgcnbwc7-24a
# The public key(s) we will accept when SSHing to a machine.
pubkeys:
    - "AAAAB3NzaC1yc2EAAAABIwAAAQEAuSG1VOumQhbJfOyalJjS4lPC8eeeL02ld/VI2BFApyMfwbB1QxehY3lMBXt/cBTzqU3MxgJQVzNr/AgjHa5rKn2hSGMfKAdaX2tG686k715bBjRm9rJNhmc8KSH9tVS35M0HwRXMfiGvSmb5qJ6utWRZe6RM2JMIbqqI5Oc4tbzPPVKk1+yvT1JdYuyqAOp2yvQbOqKaXmqOhPdPNaJZMI4o+UHmmb8FH6OTDY27G7X7u07ZPwVi1j+6ZFVMQZqg1RhUdg9kmHpHwMX7P6NcD4G9GsISHIh92eva9xgWYGiS0wUsmOWTNgAzzsfRZjMFep+jB2wup6QN7XpMw97eTw=="

deployment:
    # Dedicated VMs for running upload jobs.
    upload:
        count: 2
        flavor: m1.xlarge2

    # Dedicated VMs for running metadata setting jobs.
    metadata:
        count: 2
        flavor: m1.xlarge2

    # VMs for general computation.
    compute-general:
        count: 20
        flavor: c.c10m55

    compute-gen-extra:
        count: 30
        flavor: c.c10m55
        start: 2017-11-17
        end:  2017-11-20

    # VMs specifically for high memory usage.
    compute-highmem:
        count: 5
        flavor: c.c16m120
        
    # VMs specifically for high memory usage.
    compute-superhighmem:
        count: 4
        flavor: c.c40m250
        
    # An (example) training event
    # The name must be specified, and you must create a galaxy role with the
    # identical name in order to access these resources.
    training-fallhts2017:
        count: 4
        flavor: c.c10m55
        # A start and end date is required. Resources will not be available
        # before or after these dates.
        start: 2017-10-01
        end:  2017-10-02
